function getById(id) {
  return document.getElementById(id);
}

let setSleepFinish = getById('set_sleep_finish');
let sleepFinishedAtBlock = getById('sleep_finished_at_block');
let sleepFinishedAtHour = getById('sleep_finished_at_hour');
let sleepFinishedAtMinute = getById('sleep_finished_at_minute');

function setSleepFinishedAtBlockFields() {
  let timeCurrent = new Date(Date.now());
  sleepFinishedAtHour.setAttribute('value', timeCurrent.getHours());
  sleepFinishedAtMinute.setAttribute('value', timeCurrent.getMinutes());
}

function resetSleepFinishedAtBlockFields() {
  sleepFinishedAtHour.removeAttribute('value');
  sleepFinishedAtMinute.removeAttribute('value');
}

setSleepFinish.onclick = () => {
  sleepFinishedAtBlock.classList.toggle('d-none');
  setSleepFinish.classList.toggle('active');

  if (setSleepFinish.classList.contains('active')) {
    setSleepFinishedAtBlockFields();
    setSleepFinish.innerHTML = 'Reset sleep finish';
  } else {
    resetSleepFinishedAtBlockFields();
    setSleepFinish.innerHTML = 'Set sleep finish';
  }
}
